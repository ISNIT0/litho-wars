
const uw = require('you-win')
const {Phone, World, Sprite, Text, Polygon} = uw

var phone = new Phone

// Load everything we need
await uw.begin()

// Make the world
var world = new World
world.title = ''
world.background = 'white'

// Now we can start making Sprites!

var poop = new Sprite
poop.costume = '💩'

var cow = new Sprite
cow.costume = '🐄'

poop.posX = uw.randomInt(0, world.width)
poop.posY = uw.randomInt(0, world.height)

poop.left = cow.right

cow.left = 200

world.onTap(e => {
  var bullet = new Sprite
  bullet.costume = '👾'
  bullet.posX = poop.posX
  bullet.posY = poop.posY

  var dx = e.fingerX - poop.posX
  var dy = e.fingerY - poop.posY

  bullet.angle = uw.atan2(dx, dy)

  bullet.forever(() => {
    bullet.posX += 3 * uw.sin(bullet.angle)
    bullet.posY += 3 * uw.cos(bullet.angle)
  })
})
